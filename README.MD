
# 抖音网页版弹幕数据抓取

## 声明0：本代码库所有代码均只用于学习研究交流，严禁用于包括但不限于商业谋利、破坏系统、盗取个人信息等不良不法行为，违反此声明使用所产生的一切后果均由违反声明使用者承担。
## 侵权或涉及相关利益请联系作者：[微博](https://weibo.com/u/7751075499)、[B站](https://space.bilibili.com/4690313)、[邮箱](mailto:kukushka@126.com)
> 2024年1月2日

## 声明1：最近发现有人利用这个库的代码到CSDN还有其他博客去引流出售。。如果涉及到一些侵权或者其他利益相关的纠纷，此repo将会停止更新并归档，且行且珍惜。。。再次重申，如果涉及侵权请联系作者删除本库代码，此repo仅仅用于学习交流，交流可提issue明细
> 2024年7月17日


### 环境：
- windows 10
- python 3.7+
- `protoc`版本：`libprotoc 25.1`
- NodeJs v18.2.0

## Conda安装
使用 Conda 创建一个符合你需求的环境：

1. **创建 Conda 虚拟环境**

   在命令行中运行以下命令来创建一个 Conda 环境，Python 版本为 3.7+。

   ```sh
   conda create -n douyin_env python=3.7
   ```

   - `-n douyin_env` 指定了环境名称，你可以根据需要更改名称。
   - `python=3.7` 确保使用 Python 3.7 版本。

2. **激活环境**

   使用以下命令激活刚创建的环境：

   ```sh
   conda activate douyin_env
   ```

3. **安装所需依赖**

   安装 `protoc`（Protocol Buffers 编译器），`protoc` 通常需要手动安装，具体步骤如下：

   - **手动安装 `protoc`：**
     - 从 [GitHub 官方发布页面](https://github.com/protocolbuffers/protobuf/releases) 下载 `libprotoc 25.1` 对应的 Windows 版本的二进制压缩包。
     - 解压并将其目录添加到系统的 `PATH` 环境变量中，使得命令行能够找到 `protoc`。

4. **安装 Node.js**

   如果还没有安装 Node.js，可以从 [Node.js 官方页面](https://nodejs.org/) 下载适合 Windows 的安装包，确保选择 v18.2.0 的版本进行安装，并且确认其已被添加到 `PATH` 环境变量中。

5. **安装其他 Python 库**

   你可以根据代码的需求安装其他库，例如 `configparser`、`logging`、以及其他自定义模块的依赖：

   ```sh
   pip install configparser
   ```

6. **检查安装**

   - **检查 Python 版本**：

     ```sh
     python --version
     ```
     确认输出为 3.7+。

   - **检查 protoc 版本**：

     ```sh
     protoc --version
     ```
     确认输出为 `libprotoc 25.1`。

   - **检查 Node.js 版本**：

     ```sh
     node --version
     ```
     确认输出为 `v18.2.0`。

### 总结

- 创建 Conda 环境：`conda create -n douyin_env python=3.7`
- 激活环境：`conda activate douyin_env`
- 手动安装 `protoc` 并添加到 `PATH`
- 安装 Node.js v18.2.0
- 安装 Python 所需库，例如：`pip install configparser`

这样就完成了一个适用于 Windows 10 的 Conda 虚拟环境配置，包含 Python 3.7+、`protoc`、Node.js 等所需环境组件。如果还有其他问题，欢迎继续询问。

## 有效测试：
- [x] 2024/03/25 20:18 成功  爱因斯坦他有奶便是娘
- [x] 2024/04/15 20:13 成功  新增解析
- [x] 2024/05/01 08:14 成功  五一快乐
- [x] 2024/06/01 09:33 成功  节日快乐
- [x] 2024/06/10 08:52 成功  端午安康
- [x] 2024/06/29 15:52 成功  更新接口
- [x] 2024/07/17 06:09 成功  更新接口,添加signature
- [x] 2024/07/23 15:53 成功  冲击400star 不需要任何形式捐献:) just for fun 
- [x] 2024/10/08 08:16 成功  出差回来测试成功
- [x] 2024/10/23 16:44 成功  测试成功
- [x] 2024/10/30 11:14 成功  测试成功
- [x] 2024/11/06 10:55 成功  测试成功
- [x] 2024/11/07 09:04 成功  测试成功,根据[PPG888](https://github.com/PPG888) 提出的[issue#74](https://github.com/saermart/DouyinLiveWebFetcher/issues/74)更新signature获取方式
- [x] 2024/11/14 17:10 成功  测试成功
- [x] 2024/11/15 08:44 成功  测试成功
- [x] 2024/11/25 15:08 成功  测试成功


## 抓取样例：
```text
【进场msg】[79026102598][男]🌈尘埃🌈🌈 进入了直播间
【进场msg】[3548874980203464][男]姚先生 进入了直播间
【进场msg】[2594451873598365][女]王大锤锤锤 进入了直播间
【进场msg】[106602887532][男]嗨！ 进入了直播间
【进场msg】[1082384846973134][男]青泥湖茶食会所 进入了直播间
【进场msg】[94817345810][男]每天都要看妞，只为心情愉悦 进入了直播间
【进场msg】[83021093936][男]和财汽贸 进入了直播间
【进场msg】[106001704984][男]静能生慧 进入了直播间
【进场msg】[70493659812][男]格  局๑҉ 进入了直播间
【进场msg】[76589441190][女]大龙 进入了直播间
【进场msg】[70881184745][男]李浩哲 进入了直播间
【进场msg】[100754703019][男]RussB 进入了直播间
【进场msg】[102074576531][男]瞳可道 进入了直播间
【礼物msg】X L 送出了 为你点亮x1
【进场msg】[6782769126][男]舒克先生 进入了直播间
【进场msg】[59189841620][女]冷瞳 进入了直播间
【进场msg】[72741706046][男]I＇m glad to be part of you 进入了直播间
【点赞msg】小程๑ 点了9个赞
【进场msg】[1543342918217780][男]上班很烦丶 进入了直播间
【点赞msg】山东秋实微耗节能灶 点了12个赞
【进场msg】[70657797444][男]🌈itsDav 进入了直播间
【进场msg】[98472911773][男]真的小狮子 进入了直播间
【进场msg】[69456861335][男]何苦 进入了直播间
【进场msg】[81597830598][男]毣 进入了直播间
【统计msg】当前观看人数: 22164, 累计观看人数: 43.6万
【进场msg】[97729506904][男]流年 进入了直播间
【聊天msg】[67197561586]说谎: 去拿 去拿去哪
【进场msg】[1772006534547923][男]111 进入了直播间
【进场msg】[1437751228776316][女]🌈星辰 进入了直播间
【进场msg】[84994892671][男]浅蓝色的期许 进入了直播间
【聊天msg】[58977458943]🌈烹世酌生: 厕所里有6倍
【礼物msg】X L 送出了 为你点亮x1
【点赞msg】小程๑ 点了11个赞
【点赞msg】山东秋实微耗节能灶 点了1个赞
【进场msg】[2286579209737694][男]🐭🐮🐍🐔 进入了直播间
【进场msg】[60451809684][男]Nine九妹纸 进入了直播间
【进场msg】[84538127235][男]🆑No smoking 进入了直播间
【进场msg】[3984224739660126][男]か大龍貓か 进入了直播间
【进场msg】[77098767219][男]魑魅魍魉 进入了直播间
【进场msg】[25526482899][女]乘风 进入了直播间
【进场msg】[1939189844950083][男]一个疯批帅哥 进入了直播间
【点赞msg】小程๑ 点了9个赞
【进场msg】[71283358628][男]🌈纯黑 进入了直播间
【点赞msg】山东秋实微耗节能灶 点了8个赞
【进场msg】[1559550207732659][女]用户5865026012091 进入了直播间
【礼物msg】🐷囔囔滴男盆友 送出了 粉丝团灯牌x1
【进场msg】[71297253367][男]ꪏꪶꪭꪆꪮ   皮 进入了直播间
【进场msg】[108182840023][男]Time 进入了直播间
【进场msg】[3918302612818491][女]用户4168810991567 进入了直播间
【进场msg】[108698785871][男]万一啊 进入了直播间
【进场msg】[24033588453][男]Intro 进入了直播间
【点赞msg】小程๑ 点了3个赞
【点赞msg】山东秋实微耗节能灶 点了1个赞
【礼物msg】安好． 送出了 入团卡x1
【进场msg】[87369427576][男]失格 进入了直播间
【粉丝团msg】 恭喜 安好． 成为粉丝团第289687名成员
【进场msg】[96183051026][男]王胖子 进入了直播间
【进场msg】[3931489880510067][男]leee 进入了直播间
【统计msg】当前观看人数: 22140, 累计观看人数: 43.6万
【进场msg】[73874992083][男]😦 进入了直播间
```
